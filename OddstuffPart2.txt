






These cuts are a problem for sure, but why do some vertices which do not meet these criteria live in the slimmed secondary vertex collection?!?
https://github.com/cms-sw/cmssw/blob/CMSSW_9_4_X/RecoVertex/AdaptiveVertexFinder/plugins/InclusiveVertexFinder.h#L216

also in the clustering and the vertex arbitrator. After those corrections it is fine


pseudo vertex doesn't use the flight direction but rather the sum of tracks from the vertex.
https://github.com/cms-sw/cmssw/blob/CMSSW_9_4_X/RecoBTag/SecondaryVertex/interface/CombinedSVComputer.h#L263

okay, so i found out why there is low values of deltaR when we do not flip the jet direction for pseudo vertices. They are not calculating the deltaR between the flight distance and the jet, but rather the deltaR between the jet and sum of tracks from the pseudovertex.

The bug is actually in the deepNtuplizer

hi mauro, there is something about the deepCSV negative tagger that strikes me as a bit odd. In the track selection for the full tagger you are using all tracks regardless of 3d impact paramater significance, whereas for the negative tagger the track selection is only 3dSipSig from -inf to 0. I get that cutting at 0 on the 3d impact significance will remove a lot of b's, however why exactly at 0? The light jet track impact parameter distrubution is symmetrical around 0, so you are in essence removing 50% of tracks in light jets. This means that the negative tagger have different light jet distrubutions compared to the full tagger for trackSumJetEtRatio, trackSumJetDeltaR, JetNSelectedTracks and all trackSipAboveCharm. Also the pseudo vertex distrubution will be different. If the cut instead ran from -inf to 3.0 you would probably remove the same amount of b's, and leave these distrubutions unchanged, since you would keep a much larger fraction of light jet tracks. So i just wanted to know if there is some motivation for cutting at specifically zero?


hi mauro, as you know deepFlavour uses the deepCSV shallow tags to calculate trackSumJetDeltaR etc. However in the deepCSV negative tagger you are cutting at 3dSipSig from -inf to 0 when doing the track selection, whereas you allow all tracks in the full tagger. The light jet track impact parameter distribution is symmetrical around 0, so you are in essence removing 50% of tracks in light jets, and then you calculate trackSumJetEtRatio, trackSumJetDeltaR, JetNSelectedTracks, all trackSipAboveCharm etc with the tracks that remain. Because you have fewer tracks in the negative tagger these distributions will end up being different for lights for the negative tagger and the full tagger, and you will therefore not get a symmetric distribution of these input variables. You will probably also in general bias light jets towards higher discriminator values as they will all only contain tracks with positive impact parameter after the flip, whereas real light jets can have tracks with both ips. Is it not okay to just change the 3dSipSig cut from -inf to either inf or some other higher value, so we have the same number of light jet tracks in the negative and full tagger?
